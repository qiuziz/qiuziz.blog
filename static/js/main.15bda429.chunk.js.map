{"version":3,"sources":["pages/dashboard/mock.ts","components/header-bar/index.tsx","components/menu/index.tsx","components/menu-left/index.tsx","pages/dashboard/index.tsx","router/index.tsx","reportWebVitals.ts","index.tsx"],"names":["MENU_LIST","id","key","title","url","entry","HeaderBar","className","map","menu","href","Component","CustomMenu","state","openKeys","selectedKeys","defaultNodeList","handleClick","e","console","log","setState","props","onSelect","this","theme","mode","onClick","menus","item","Item","name","React","withRouter","SubMenu","current","onOpenChange","info","renderMenuItem","viewContent","renderSubMenu","children","child","length","window","history","pushState","handleMenuClick","menuPaths","findMenuPath","onMenuChange","nextProps","paths","slice","toString","style","height","ret","step","targetKey","findRet","push","pop","Header","Content","Footer","setDefaultIndicator","Dashboard","loading","subAppList","loader","container","document","getElementById","ReactDOM","render","position","top","left","zIndex","spinning","location","host","activeRule","subLoader","registerMicroApps","initGlobalState","routePrefix","setGlobalState","start","sandbox","experimentalStyleIsolation","BasicRoute","basename","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.15bda429.chunk.js","sourcesContent":["export const MENU_LIST = [\n  {\n    id: 1,\n    key: 1,\n    title: 'Blog',\n    url: '/q/blog/',\n    entry: '/blog/',\n  },\n  {\n    id: 2,\n    key: 2,\n    title: 'React Image Map',\n    url: '/q/react-image-map/',\n    entry: '/react-image-map/',\n  },\n];\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:40:37\n * @Last Modified by: qiuz\n */\n\nimport { MENU_LIST } from 'pages/dashboard/mock';\nimport React, { Component } from 'react';\nimport './index.less';\n\nexport default class HeaderBar extends Component<any, any> {\n\n  render() {\n    return (\n      <div className=\"header-bar\">\n        <ul className=\"header-ul\">\n          {MENU_LIST.map((menu: any) => {\n            return <li key={menu.key}><a href={menu.url}>{menu.title}</a></li>;\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\n\n//此组件的意义就是将数据抽离出来，通过传递数据去渲染\nclass CustomMenu extends React.Component<any> {\n  state = {\n    openKeys: [],\n    selectedKeys: ['4'],\n    defaultNodeList: []\n  };\n\n  handleClick = (e: any) => {\n    console.log('click ', e);\n    this.setState({ selectedKeys: [`${e.key}`] });\n    this.props.onSelect(`${e.key}`);\n  };\n\n  render() {\n    const { openKeys, selectedKeys } = this.state;\n    return (\n      <Menu theme=\"dark\" mode=\"horizontal\" onClick={this.handleClick} selectedKeys={selectedKeys}>\n        {this.props.menus &&\n          this.props.menus.map((item: { key: string; name: string }) => {\n            return <Menu.Item key={item.key}>{item.name}</Menu.Item>;\n          })}\n      </Menu>\n    );\n  }\n}\n\nexport default withRouter(CustomMenu);\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\nconst { SubMenu } = Menu;\n\ninterface MenuField {\n  url: string;\n  key: string;\n  name: string;\n  children: MenuField[];\n}\n\n//此组件的意义就是将数据抽离出来，通过传递数据去渲染\nclass CustomMenu extends React.Component<any> {\n  state = {\n    openKeys: [],\n    selectedKeys: [this.props.current ?? '47'],\n    defaultNodeList: []\n  };\n  componentWillReceiveProps(nextProps: any) {\n    if (nextProps.menus !== this.props.menus) {\n      const paths = findMenuPath(nextProps.menus, this.state.selectedKeys[0]);\n      this.setState({ openKeys: paths.slice(0, -1).map((item) => item.key.toString()) });\n    }\n  }\n\n  onOpenChange = (openKeys: any) => {\n    console.info('openKeys:', openKeys);\n    this.setState({\n      openKeys\n    });\n  };\n  renderMenuItem = (item: any) => {\n    return (\n      <Menu.Item key={item.key} onClick={() => this.viewContent(item)}>\n        <span>{item.title}</span>\n      </Menu.Item>\n    );\n  };\n  renderSubMenu = (item: any) => {\n    return (\n      <Menu.SubMenu\n        key={item.key}\n        title={\n          <span>\n            <span>{item.title}</span>\n          </span>\n        }\n      >\n        {item.children &&\n          item.children.map((child: any) => {\n            return child.children && child.children.length > 0\n              ? this.renderSubMenu(child)\n              : this.renderMenuItem(child);\n          })}\n      </Menu.SubMenu>\n    );\n  };\n  viewContent = (item: { url: string }) => {\n    console.log(item);\n\n    item.url && window.history.pushState('', '', item.url);\n  };\n\n  handleMenuClick = (key: string | number) => {\n    this.setState({ selectedKeys: [key] });\n    const menuPaths = findMenuPath(this.props.menus, key);\n    this.props.onMenuChange(menuPaths);\n  };\n\n  render() {\n    const { openKeys, selectedKeys } = this.state;\n    return (\n      <Menu\n        mode=\"inline\"\n        onOpenChange={this.onOpenChange}\n        onClick={({ key }) => this.handleMenuClick(key)}\n        openKeys={openKeys}\n        selectedKeys={selectedKeys}\n        style={{ height: '100%' }}\n      >\n        {this.props.menus &&\n          this.props.menus.map((item: any) => {\n            return item.children && item.children.length > 0\n              ? this.renderSubMenu(item)\n              : this.renderMenuItem(item);\n          })}\n      </Menu>\n    );\n  }\n}\n\nexport const findMenuPath = (menus: MenuField[], key: string | number) => {\n  let ret: MenuField[] = [];\n  const step = (\n    menus: MenuField[],\n    targetKey: string | number,\n    menuPaths: MenuField[]\n  ): boolean => {\n    let findRet = false;\n    for (const item of menus) {\n      if (item.key == targetKey) {\n        menuPaths.push(item);\n        ret = menuPaths;\n        return true;\n      }\n      if (item.children && item.children.length) {\n        menuPaths.push(item);\n        findRet = step(item.children, targetKey, menuPaths);\n        if (findRet) {\n          break;\n        } else {\n          menuPaths.pop();\n        }\n      }\n    }\n    return findRet;\n  };\n  step(menus, key, []);\n  return ret;\n};\n\nexport default withRouter(CustomMenu);\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:39:02\n * @Last Modified by: qiuz\n */\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Layout, Spin } from 'antd';\nimport './index.less';\n\nimport { registerMicroApps, start, initGlobalState, runAfterFirstMounted } from 'qiankun';\nimport { HeaderBar } from 'components';\n\nimport { MENU_LIST } from './mock';\n\nconst { Header, Content, Footer } = Layout;\n\nSpin.setDefaultIndicator(\n  <div className=\"loading__box\">\n    <div className=\"loading__box-lds\">\n      <div />\n      <div />\n      <div />\n    </div>\n  </div>\n);\n\nexport default class Dashboard extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      loading: false,\n      subAppList: []\n    };\n  }\n\n  componentDidMount() {\n    const loader = (loading: any) => {\n      const container = document.getElementById('subapp-container');\n      ReactDOM.render(\n        <>\n          <Spin\n            style={{\n              position: 'fixed',\n              top: '50%',\n              left: 'calc(50% - 100px)',\n              zIndex: 99\n            }}\n            spinning={loading}\n          />\n          <div id=\"subapp-viewport\" />\n        </>,\n        container\n      );\n    };\n    const subAppList = MENU_LIST.map((menu: any) => {\n      return {\n        name: menu.title,\n        entry: `//${window.location.host}${menu.entry}`,\n        container: '#subapp-viewport',\n        loader,\n        activeRule: menu.url\n      };\n    });\n    this.setState({\n      loading: true,\n      subLoader: loader,\n      subAppList\n    });\n\n    registerMicroApps(subAppList);\n\n    const { setGlobalState } = initGlobalState({\n      routePrefix: '/q'\n    });\n\n    /**\n     * Step4 启动应用\n     */\n    start({ sandbox: { experimentalStyleIsolation: true } });\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Layout className=\"widgets-layout\">\n          <Header className=\"header\">\n            <div className=\"logo\">\n              <a href=\"/\">Qiuz</a>\n            </div>\n            <HeaderBar />\n          </Header>\n          <Content className=\"site-layout-background\">\n            <div id=\"subapp-container\" className=\"view\"></div>\n          </Content>\n          <Footer className=\"widgets-layout-container-footer\">Widgets ©2021 Created by qiuz</Footer>\n        </Layout>\n      </BrowserRouter>\n    );\n  }\n}\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:37:50\n * @Last Modified by: qiuz\n */\n\nimport React from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport Dashboard from 'pages/dashboard';\n\nconst BasicRoute = () => (\n  <BrowserRouter basename={'/'}>\n    <Switch>\n      <Route path=\"*\" component={Dashboard} />\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default BasicRoute;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.less';\nimport Router from './router';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}